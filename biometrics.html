<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Serif — Multi-Cadence Integration</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html, body { 
    width: 100%; height: 100%; 
    background: #0a0e14; 
    font-family: 'SF Mono', 'Fira Code', 'Courier New', monospace;
    color: #8b949e;
    overflow: hidden;
  }
  .container {
    width: 100%; height: 100%;
    display: flex; flex-direction: column;
    padding: 24px 32px;
  }
  .header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 1px solid rgba(139,148,158,0.15);
  }
  .header .logo {
    font-size: 13px; letter-spacing: 6px; text-transform: uppercase;
    color: rgba(139,148,158,0.4);
  }
  .header .status {
    font-size: 11px; color: rgba(139,148,158,0.3);
    letter-spacing: 2px;
  }
  .sync-indicator {
    display: flex; align-items: center; gap: 6px;
    font-size: 11px; color: rgba(88,166,255,0.5);
    letter-spacing: 1px;
  }
  .sync-dot {
    width: 6px; height: 6px; border-radius: 50%;
    background: rgba(88,166,255,0.6);
  }
  .rows {
    flex: 1; display: flex; flex-direction: column;
    gap: 4px;
  }
  .row {
    flex: 1; display: flex; align-items: stretch;
    position: relative;
    border-bottom: 1px solid rgba(139,148,158,0.06);
  }
  .row-label {
    width: 140px; display: flex; flex-direction: column;
    justify-content: center; padding-right: 16px;
    flex-shrink: 0;
  }
  .row-label .name {
    font-size: 11px; letter-spacing: 2px; text-transform: uppercase;
    margin-bottom: 3px;
  }
  .row-label .value {
    font-size: 22px; font-weight: 300;
    letter-spacing: -0.5px;
  }
  .row-label .unit {
    font-size: 9px; letter-spacing: 1px;
    opacity: 0.5; margin-top: 1px;
  }
  .row-label .cadence {
    font-size: 8px; letter-spacing: 1px;
    opacity: 0.3; margin-top: 4px;
  }
  .wave-container {
    flex: 1; position: relative; overflow: hidden;
  }
  .wave-container canvas {
    width: 100%; height: 100%;
  }
  /* sync lines */
  .sync-line {
    position: absolute; top: 0; bottom: 0;
    width: 1px;
    background: rgba(88,166,255,0.12);
    z-index: 10;
  }
  /* Color coding */
  .row-ecg .row-label .name, .row-ecg .row-label .value { color: #3fb950; }
  .row-hrv .row-label .name, .row-hrv .row-label .value { color: #58a6ff; }
  .row-spo2 .row-label .name, .row-spo2 .row-label .value { color: #d2a8ff; }
  .row-resp .row-label .name, .row-resp .row-label .value { color: #f0883e; }
  .row-temp .row-label .name, .row-temp .row-label .value { color: #f778ba; }
  .row-eda .row-label .name, .row-eda .row-label .value { color: #79c0ff; }

  .footer {
    display: flex; justify-content: space-between;
    padding-top: 12px; margin-top: 12px;
    border-top: 1px solid rgba(139,148,158,0.08);
    font-size: 9px; letter-spacing: 2px;
    color: rgba(139,148,158,0.25);
  }
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="logo">serif</div>
    <div class="sync-indicator">
      <span class="sync-dot"></span>
      MULTI-CADENCE SYNC
    </div>
    <div class="status">LIVE INTEGRATION</div>
  </div>
  
  <div class="rows" id="rows">
    <!-- Rows generated by JS -->
  </div>

  <div class="footer">
    <span>6 BIOMETRIC STREAMS</span>
    <span>3 SAMPLING CADENCES</span>
    <span>UNIFIED TEMPORAL ALIGNMENT</span>
  </div>
</div>

<script>
const SIGNALS = [
  { 
    id: 'ecg', name: 'ECG', value: '72', unit: 'BPM', cadence: '250 Hz · CONTINUOUS',
    color: '#3fb950', 
    generate: (x, w) => {
      // Realistic PQRST complex
      const cycle = w / 4.5; // ~4.5 beats visible
      const t = (x % cycle) / cycle;
      if (t < 0.05) return 0;                          // baseline
      if (t < 0.10) return Math.sin((t-0.05)/0.05 * Math.PI) * 0.12;  // P wave
      if (t < 0.14) return 0;                          // PR segment
      if (t < 0.16) return -(t-0.14)/0.02 * 0.15;     // Q
      if (t < 0.20) return -0.15 + (t-0.16)/0.04 * 1.15; // R up
      if (t < 0.24) return 1.0 - (t-0.20)/0.04 * 1.25;   // R down to S
      if (t < 0.28) return -0.25 + (t-0.24)/0.04 * 0.25;  // S recovery
      if (t < 0.35) return 0;                          // ST segment
      if (t < 0.45) return Math.sin((t-0.35)/0.10 * Math.PI) * 0.18; // T wave
      return 0;
    }
  },
  {
    id: 'hrv', name: 'HRV', value: '58', unit: 'MS RMSSD', cadence: '1 Hz · BEAT-TO-BEAT',
    color: '#58a6ff',
    generate: (x, w) => {
      // Smoother oscillation with noise
      const base = Math.sin(x / w * Math.PI * 6) * 0.3 
                 + Math.sin(x / w * Math.PI * 2.3) * 0.4
                 + Math.sin(x / w * Math.PI * 14) * 0.08;
      return base * 0.7;
    }
  },
  {
    id: 'spo2', name: 'SpO₂', value: '98', unit: '% SATURATION', cadence: '1 Hz · PLETHYSMOGRAPH',
    color: '#d2a8ff',
    generate: (x, w) => {
      // Pulse ox pleth waveform - sharp rise, slow decay
      const cycle = w / 8;
      const t = (x % cycle) / cycle;
      if (t < 0.15) return Math.pow(t / 0.15, 0.5) * 0.6;
      if (t < 0.3) return 0.6 - (t - 0.15) / 0.15 * 0.15;
      if (t < 0.45) return 0.45 + Math.sin((t-0.3)/0.15 * Math.PI) * 0.08;
      return 0.45 * Math.exp(-(t - 0.45) * 3);
    }
  },
  {
    id: 'resp', name: 'RESP', value: '16', unit: 'BREATHS/MIN', cadence: '0.25 Hz · DERIVED',
    color: '#f0883e',
    generate: (x, w) => {
      // Slow respiratory wave
      return (Math.sin(x / w * Math.PI * 3) * 0.5 
            + Math.sin(x / w * Math.PI * 3.1) * 0.15) * 0.8;
    }
  },
  {
    id: 'temp', name: 'SKIN TEMP', value: '36.4', unit: '°C', cadence: '0.017 Hz · 1/MIN',
    color: '#f778ba',
    generate: (x, w) => {
      // Very slow drift with slight oscillation
      return Math.sin(x / w * Math.PI * 0.8) * 0.3
           + Math.sin(x / w * Math.PI * 1.6) * 0.12
           + Math.cos(x / w * Math.PI * 3) * 0.05;
    }
  },
  {
    id: 'eda', name: 'EDA', value: '4.2', unit: 'μS', cadence: '4 Hz · GALVANIC',
    color: '#79c0ff',
    generate: (x, w) => {
      // EDA with occasional spikes (skin conductance responses)
      const base = Math.sin(x / w * Math.PI * 1.5) * 0.15;
      // Add SCR events
      const spike1 = Math.exp(-Math.pow((x/w - 0.25) * 12, 2)) * 0.7;
      const spike2 = Math.exp(-Math.pow((x/w - 0.6) * 10, 2)) * 0.5;
      const spike3 = Math.exp(-Math.pow((x/w - 0.85) * 14, 2)) * 0.6;
      return base + spike1 + spike2 + spike3;
    }
  }
];

// Build rows
const rowsEl = document.getElementById('rows');
SIGNALS.forEach(sig => {
  const row = document.createElement('div');
  row.className = `row row-${sig.id}`;
  row.innerHTML = `
    <div class="row-label">
      <div class="name">${sig.name}</div>
      <div class="value">${sig.value}</div>
      <div class="unit">${sig.unit}</div>
      <div class="cadence">${sig.cadence}</div>
    </div>
    <div class="wave-container">
      <canvas id="canvas-${sig.id}"></canvas>
    </div>
  `;
  rowsEl.appendChild(row);
});

// Add sync lines (vertical alignment markers)
const syncPositions = [0.22, 0.44, 0.67, 0.89];
SIGNALS.forEach(sig => {
  const container = document.querySelector(`.row-${sig.id} .wave-container`);
  syncPositions.forEach(pos => {
    const line = document.createElement('div');
    line.className = 'sync-line';
    line.style.left = (pos * 100) + '%';
    container.appendChild(line);
  });
});

// Draw static waveforms
function drawAll() {
  SIGNALS.forEach(sig => {
    const canvas = document.getElementById(`canvas-${sig.id}`);
    const rect = canvas.parentElement.getBoundingClientRect();
    const dpr = window.devicePixelRatio || 1;
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    canvas.style.width = rect.width + 'px';
    canvas.style.height = rect.height + 'px';
    
    const ctx = canvas.getContext('2d');
    ctx.scale(dpr, dpr);
    const w = rect.width;
    const h = rect.height;
    const mid = h / 2;
    const amp = h * 0.35;
    
    // Draw subtle grid
    ctx.strokeStyle = 'rgba(139,148,158,0.04)';
    ctx.lineWidth = 0.5;
    for (let gx = 0; gx < w; gx += 40) {
      ctx.beginPath();
      ctx.moveTo(gx, 0);
      ctx.lineTo(gx, h);
      ctx.stroke();
    }
    
    // Draw waveform
    ctx.beginPath();
    ctx.strokeStyle = sig.color;
    ctx.lineWidth = 1.5;
    ctx.globalAlpha = 0.85;
    
    for (let x = 0; x < w; x++) {
      const y = mid - sig.generate(x, w) * amp;
      if (x === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.stroke();
    
    // Subtle glow
    ctx.beginPath();
    ctx.strokeStyle = sig.color;
    ctx.lineWidth = 4;
    ctx.globalAlpha = 0.08;
    for (let x = 0; x < w; x++) {
      const y = mid - sig.generate(x, w) * amp;
      if (x === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.stroke();
    ctx.globalAlpha = 1;
  });
}

// Initial draw + resize
drawAll();
window.addEventListener('resize', drawAll);

// Fullscreen on click
document.body.addEventListener('click', () => {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen();
  }
});
</script>
</body>
</html>
