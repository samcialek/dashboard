<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Serif — Multi-Cadence Integration</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html, body { 
    width: 100%; height: 100%; 
    background: #0a0e14; 
    font-family: 'SF Mono', 'Fira Code', 'Courier New', monospace;
    color: #8b949e;
    overflow: hidden;
    cursor: none;
  }
  .container {
    width: 100%; height: 100%;
    display: flex; flex-direction: column;
    padding: 28px 36px;
  }
  .header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 20px;
    padding-bottom: 14px;
    border-bottom: 1px solid rgba(139,148,158,0.12);
  }
  .header .logo {
    font-size: 14px; letter-spacing: 8px; text-transform: uppercase;
    color: rgba(139,148,158,0.35);
  }
  .header .status {
    font-size: 10px; color: rgba(139,148,158,0.2);
    letter-spacing: 3px;
  }
  .rows {
    flex: 1; display: flex; flex-direction: column;
    gap: 0;
  }
  .row {
    flex: 1; display: flex; align-items: stretch;
    position: relative;
  }
  .row + .row {
    border-top: 1px solid rgba(139,148,158,0.06);
  }
  .row-label {
    width: 160px; display: flex; flex-direction: column;
    justify-content: center; padding-right: 20px;
    flex-shrink: 0;
  }
  .row-label .name {
    font-size: 11px; letter-spacing: 3px; text-transform: uppercase;
    margin-bottom: 4px;
  }
  .row-label .value {
    font-size: 28px; font-weight: 300;
    letter-spacing: -0.5px;
    line-height: 1;
  }
  .row-label .unit {
    font-size: 9px; letter-spacing: 1.5px;
    opacity: 0.4; margin-top: 4px;
  }
  .row-label .cadence {
    font-size: 8px; letter-spacing: 1.5px;
    opacity: 0.22; margin-top: 6px;
    text-transform: uppercase;
  }
  .wave-container {
    flex: 1; position: relative; overflow: hidden;
  }
  .wave-container canvas {
    width: 100%; height: 100%;
  }
  /* Sync lines across all rows */
  .sync-line {
    position: absolute; top: 0; bottom: 0;
    width: 1px;
    background: rgba(88,166,255,0.10);
    z-index: 10;
  }

  /* Row colors */
  .row-ecg .row-label .name, .row-ecg .row-label .value { color: #3fb950; }
  .row-hrv .row-label .name, .row-hrv .row-label .value { color: #58a6ff; }
  .row-resp .row-label .name, .row-resp .row-label .value { color: #f0883e; }

  .footer {
    display: flex; justify-content: space-between;
    padding-top: 14px; margin-top: 16px;
    border-top: 1px solid rgba(139,148,158,0.08);
    font-size: 9px; letter-spacing: 3px;
    color: rgba(139,148,158,0.18);
    text-transform: uppercase;
  }
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="logo">serif</div>
    <div class="status">multi-cadence integration</div>
  </div>
  
  <div class="rows" id="rows"></div>

  <div class="footer">
    <span>3 biometric streams</span>
    <span>3 sampling cadences</span>
    <span>unified temporal alignment</span>
  </div>
</div>

<script>
const SIGNALS = [
  { 
    id: 'ecg', name: 'ECG', value: '72', unit: 'BPM', cadence: '250 Hz · continuous',
    color: '#3fb950',
    generate: (x, w) => {
      const cycle = w / 5;
      const t = (x % cycle) / cycle;
      if (t < 0.05) return 0;
      if (t < 0.10) return Math.sin((t-0.05)/0.05 * Math.PI) * 0.12;
      if (t < 0.14) return 0;
      if (t < 0.16) return -(t-0.14)/0.02 * 0.15;
      if (t < 0.20) return -0.15 + (t-0.16)/0.04 * 1.15;
      if (t < 0.24) return 1.0 - (t-0.20)/0.04 * 1.25;
      if (t < 0.28) return -0.25 + (t-0.24)/0.04 * 0.25;
      if (t < 0.35) return 0;
      if (t < 0.45) return Math.sin((t-0.35)/0.10 * Math.PI) * 0.18;
      return 0;
    }
  },
  {
    id: 'hrv', name: 'HRV', value: '58', unit: 'ms RMSSD', cadence: '1 Hz · beat-to-beat',
    color: '#58a6ff',
    generate: (x, w) => {
      return (Math.sin(x / w * Math.PI * 6) * 0.3 
            + Math.sin(x / w * Math.PI * 2.3) * 0.4
            + Math.sin(x / w * Math.PI * 14) * 0.06) * 0.65;
    }
  },
  {
    id: 'resp', name: 'RESP', value: '16', unit: 'breaths/min', cadence: '0.25 Hz · derived',
    color: '#f0883e',
    generate: (x, w) => {
      return (Math.sin(x / w * Math.PI * 3) * 0.55 
            + Math.sin(x / w * Math.PI * 3.15) * 0.12) * 0.75;
    }
  }
];

// Build rows
const rowsEl = document.getElementById('rows');
SIGNALS.forEach(sig => {
  const row = document.createElement('div');
  row.className = `row row-${sig.id}`;
  row.innerHTML = `
    <div class="row-label">
      <div class="name">${sig.name}</div>
      <div class="value">${sig.value}</div>
      <div class="unit">${sig.unit}</div>
      <div class="cadence">${sig.cadence}</div>
    </div>
    <div class="wave-container">
      <canvas id="canvas-${sig.id}"></canvas>
    </div>
  `;
  rowsEl.appendChild(row);
});

// Sync lines
const syncPositions = [0.20, 0.40, 0.60, 0.80];
SIGNALS.forEach(sig => {
  const container = document.querySelector(`.row-${sig.id} .wave-container`);
  syncPositions.forEach(pos => {
    const line = document.createElement('div');
    line.className = 'sync-line';
    line.style.left = (pos * 100) + '%';
    container.appendChild(line);
  });
});

// Draw STATIC waveforms (no animation — safe for photo)
function drawAll() {
  SIGNALS.forEach(sig => {
    const canvas = document.getElementById(`canvas-${sig.id}`);
    const rect = canvas.parentElement.getBoundingClientRect();
    const dpr = window.devicePixelRatio || 1;
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    canvas.style.width = rect.width + 'px';
    canvas.style.height = rect.height + 'px';
    
    const ctx = canvas.getContext('2d');
    ctx.scale(dpr, dpr);
    const w = rect.width;
    const h = rect.height;
    const mid = h / 2;
    const amp = h * 0.38;
    
    // Subtle vertical grid
    ctx.strokeStyle = 'rgba(139,148,158,0.03)';
    ctx.lineWidth = 0.5;
    for (let gx = 0; gx < w; gx += 50) {
      ctx.beginPath();
      ctx.moveTo(gx, 0);
      ctx.lineTo(gx, h);
      ctx.stroke();
    }
    
    // Waveform
    ctx.beginPath();
    ctx.strokeStyle = sig.color;
    ctx.lineWidth = 1.8;
    ctx.globalAlpha = 0.9;
    for (let x = 0; x < w; x++) {
      const y = mid - sig.generate(x, w) * amp;
      if (x === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.stroke();
    
    // Glow
    ctx.beginPath();
    ctx.strokeStyle = sig.color;
    ctx.lineWidth = 5;
    ctx.globalAlpha = 0.06;
    for (let x = 0; x < w; x++) {
      const y = mid - sig.generate(x, w) * amp;
      if (x === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.stroke();
    ctx.globalAlpha = 1;
  });
}

drawAll();
window.addEventListener('resize', drawAll);

// F11 or click → fullscreen
document.body.addEventListener('click', () => {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen();
  }
});
</script>
</body>
</html>
